function pullRefresh(t){var e=document.body,r=document.getElementById("app"),n=r.style,l=document.createElement("p");l.style="width: 100%; text-align: center; position: fixed; z-index: -1; left: 0; top: 0; font-size: 12px; line-height: 40px; color: #999; display: none;";var a=document.createElement("span"),i=!1,d=()=>{return!!navigator.userAgent.toLowerCase().match(/mqqbrowser|qzone|qqbrowser/i)};return{init:()=>{var s,o;d()||(e.appendChild(l),l.appendChild(a),r.addEventListener("touchstart",e=>{s=e.touches[0].pageY,r.style.transition="transform 0s"}),r.addEventListener("touchmove",e=>{var t,n;o=e.touches[0].pageY-s,t=o,0<=(e=r.getBoundingClientRect().top)&&("none"===l.style.display&&(l.style.display="block"),0<t&&t<50?r.style.transform="translate(0, "+t+"px)":50<=t&&t<100?(n=50+.6*(t-50),r.style.transform="translate(0, "+n+"px)"):100<=t&&(n=80+.2*(t-100),r.style.transform="translate(0, "+n+"px)"),i=e<50?!(a.innerText="下拉即可刷新..."):(a.innerText="松开立即刷新...",!0))}),r.addEventListener("touchend",e=>{0<r.getBoundingClientRect().top?i?(a.innerText="数据加载中...",t?t():window.location.reload(),r.style.transition="transform 0.4s",r.style.transform="translate(0, 40px)"):(r.style.transition="transform 0.4s",r.style.transform="translate(0, 0)",setTimeout(()=>{l.style.display="none",r.style=n},400)):(l.style.display="none",r.style=n)}))},finish:()=>{d()||(a.innerText="刷新成功",setTimeout(()=>{r.style.transition="transform 0.2s",r.style.transform="translate(0, 0)",setTimeout(()=>{l.style.display="none",r.style=n},400)},500))}}}"object"==typeof module&&"object"==typeof module.exports&&(module.exports=pullRefresh),"undefined"!=typeof window&&(window.pullRefresh=pullRefresh);